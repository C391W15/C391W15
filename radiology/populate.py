import os 
import datetime
import random

def populate():

	for i in range(1,13):
		for j in range (1, 53):
			for k in range(1990, 2016):
				if abs(i*4 - j) < 4:
					t = Time(week = j, month = i, year = k)
					t.save()
					print(t.time_id, t.week, t.month, t.year)

	addPerson('Aaron', 'Tse', '111 Fake St', 'akt@ualberta.ca', '1231231313')
	addPerson('Cody', 'Ingram', '123 Fake St', 'cdingram@ualberta.ca', '0980989898')
	addPerson('Ondra', 'Chan', '133 Fake St', 'ondra@ualberta.ca', '4564564646')
	addPerson('Chris', 'Li', '144 Fake St', 'lisheung@ualberta.ca', '3453453535')
	addPerson('John', 'Henderson', '159 Alberta Ave', 'Jhenderson@ualberta.ca', '5938402938')
	addPerson('Tiffany', 'Lee', '444 Apple St', 'ImTiff@gmail.com', '3940293828')
	addPerson('Lilian', 'Heath', '243 Turnover Rd', 'llHeath@gmail.com', '3920294838')
	addPerson('Heather', 'Rickenson', '13 Ghetto St', 'rickenson@hotmail.com', '5990908790')
	addPerson('Lory', 'Triangle', '54 Turnover Rd', 'ltangle@hotmail.com', '1113132323')
	addPerson('Lucky', 'Charms', '777 Jackpot Ave', 'charmsL@gmail.com', '7777777777')
	addPerson('Terrance', 'Lee', '104 Apple St', 'lee@ualberta.ca', '1429382039')
	addPerson('Andrew', 'Zhong', '555 Fake St', 'zhong@ualberta.ca', '4938402938')
	addPerson('Manfred', 'Mung', '222 Alberta Ave', 'mung@ualberta.ca', '1203042391')
	addPerson('Heather', 'Lee', '141 Alberta Ave', 'hleee@ualberta.ca', '1034924949')
	addPerson('William', 'Lau', '333 Turnover St', 'lau@ualberta.ca', '1234567890')
	addPerson('Brandon', 'Williams', '141 Tutu Rd', 'willy@ualberta.ca', '3332425342')
	addPerson('Emma', 'Wong', '331 Tutu Rd', 'emma@ualberta.ca', '3334245637')
	addPerson('Jeremy', 'Lau', '3424 Banana Isle', 'jlau@gmail.com', '7968371639')
	addPerson('Jeremy', 'Su', '18 Triangle Rd', 'jsu@hotmail.com' ,'1042042910')
	addPerson('Sincere', 'Li', '12 Fake St', 'sli@gmail.com', '1332443456')
	addPerson('Terrance', 'Tran', '232 Abc St', 'TTran@gmail.com', '2049204820')
	addPerson('Jennifer', 'Lawrence', '342 Happy St', 'jlaw@gmail.com', '8887676565')
	addPerson('Joffrey', 'Danglehoof', '222 Rotten Ave', 'jhoof@gmail.com', '0890897909')
	addPerson('Lianna', 'Kwan', '768 Grey St', 'kwan@hotmail.com', '4739586567')
	addPerson('Gandalf', 'The Grey', '333 Doom Ave', 'Gandalf@hotmail.com', '4352342949')
	addPerson('Bilbo', 'Baggins', '222 The Shire', 'shire@gmail.com', '1423243821')
	addPerson('Frodo', 'Baggins', '444 The Shire', 'shire1@gmail.com', '1342432646')
	addPerson('Sam', 'Gamgee', '333 The Shire', 'shire2@gmail.com', '5839584739')
	addPerson('Connie', 'Ho', '822 Fake St', 'cho@gmail.com', '3059480293')
	addPerson('Lee', 'Sin', '090 Blind St', 'sin@gmail.com', '7879990808')
	addPerson('Urf', 'Namitee', '22 Able Ave', 'urf@hotmail.com', '6665557474')
	addPerson('Saruman', 'White', '828 White Ave', 'saruman@gmail.com', '3827363736')
	addPerson('Cinnamon', 'Tran', '99 Cinnamon St', 'cinnamon@gmail.com', '4253879480')
	addPerson('John', 'Davis', '14 Fake St', 'davis@hotmail.com', '5768769789')
	addPerson('Karen', 'Deng', '68 Apple St', 'deng@ualberta.ca', '3452521345')
	addPerson('Dan', 'Abada', '45 Temple Av', 'dabada@gmail.com', '1424346989')
	addPerson('Russell', 'Ko', '45 Air Temple', 'monk@gmail.com', '3279709876')
	addPerson('Russell', 'Crow', '11 Rabbit Hill', 'crow@gmail.com', '2431115678')
	addPerson('Spongebob', 'Squarepants', '32 Pineapple', 'square@gmail.com', '4560982748')
	addPerson('John',' Tran', '15 Simons St', 'jtran@gmail.com', '2431558376')
	addPerson('Austin', 'Wu', '234 CowTown', 'wu@gmail.com', '111333444')
	addPerson('Wu', 'Kong', '324 Summoners Rift', 'kong@gmail.com', '222444666')
	addPerson('Monty', 'Aguillon', '24 Apple Ave', 'kannon@gmail.com', '4183029403')
	addPerson('Don', 'Krieg', '18 Pirate Ship', 'krieg@gmail.com', '1423418799')
	addPerson('Roronoa', 'Zoro', '88 Swordsman', 'swordsman88@gmail.com', '4759380000')
	addPerson('Candy', 'Bandana', '23 Candy Isle', 'bandana@gmail.com', '3234320930')
	addPerson('Sylvia', 'Tran', '423 Jackpot Ave', 'stran@hotmail.ca', '3324217698')
	addPerson('Lorry', 'Hendricks', '231 Grey St', 'hendy@gmail.com', '1210906879')
	addPerson('Buggy', 'Clown', '820 Clown Ave', 'clown@gmail.com', '1214345678')
	addPerson('Batir', 'Gram', '10 Asgard', 'gram@gmail.com', '1708794569')
	addPerson('Katalia', 'Grimshaw', '44 Alberta Ave', 'katalia@hotmail.ca', '5674539480')

	addUser('akt', 'bar', 'a', '1', datetime.date(2000, 10, 10))
	addUser('cdingram', 'foo', 'p', '2', datetime.date(2010, 5, 1))
	addUser('ondra', 'bar', 'd', '3', datetime.date(2009, 4, 1))
	addUser('chris', 'foo', 'r', '4', datetime.date(2014, 3,20))
	addUser('henderson', 'bar', 'p', '5', datetime.date(2002, 4,28))
	addUser('tlee', 'hens', 'd', '6', datetime.date(2001, 8, 19))
	addUser('heath', 'brick', 'r', '7', datetime.date(2013, 12, 14))
	addUser('rickenson', 'ghetto', 'p', '8', datetime.date(2011, 10, 17))
	addUser('lory', 'turnover', 'd', '9', datetime.date(2007, 3, 14))
	addUser('charms', 'lucky', 'r', '10', datetime.date(2004, 1, 1))
	addUser('lee', 'terrance', 'p', '11', datetime.date(2002, 4, 10))
	addUser('zhong', 'onepiece', 'd', '12', datetime.date(1995, 3, 12))
	addUser('mung', 'freddy', 'r', '13', datetime.date(1994, 5, 5))
	addUser('hlee', 'heather', 'p', '14', datetime.date(1990, 2, 6))
	addUser('willau', 'pres', 'd', '15', datetime.date(1985, 5, 22))
	addUser('bwilly', 'donk', 'r', '16', datetime.date(2006, 10, 27))
	addUser('ewong', 'kittuhn', 'p', '17', datetime.date(2010, 9, 30))
	addUser('lauj', 'jane', 'd', '18', datetime.date(2011, 8, 15))
	addUser('suj', 'jus', 'r', '19', datetime.date(2003, 1,14))
	addUser('sli', 'ils', 'p', '20', datetime.date(1980, 2, 4))
	addUser('ttran', 'abc', 'd', '21', datetime.date(1995, 4, 6))
	addUser('jlaw', 'law', 'r', '22', datetime.date(2014, 7, 8))
	addUser('dhoof', 'joffrey', 'p', '23', datetime.date(2004, 12, 12))
	addUser('kwan', 'kwok', 'r', '24', datetime.date(2010, 5, 8))
	addUser('gandalf', 'thegrey', 'p', '25', datetime.date(2010, 4, 28))
	addUser('bilbo', 'baggins', 'd', '26', datetime.date(2008, 4, 13))
	addUser('frodo', 'baggins', 'p', '27', datetime.date(2007, 3, 26))
	addUser('sam', 'gamgam', 'p', '28', datetime.date(2010, 4, 8))
	addUser('chode', 'cho', 'p', '29', datetime.date(1999, 9, 30))
	addUser('sin', 'lee', 'p', '30', datetime.date(2001, 5, 5))
	addUser('urf', 'tee', 'p', '31', datetime.date(2000, 4, 2))
	addUser('saru', 'white', 'p', '32', datetime.date(2004, 3, 8))
	addUser('ctran', 'cinnamon', 'p', '33', datetime.date(2009, 9, 25))
	addUser('davis', 'fake', 'd', '34', datetime.date(2010, 5, 24))
	addUser('deng', 'karen', 'd', '35', datetime.date(2013, 3, 22))
	addUser('abada', 'g', 'p', '36', datetime.date(2014, 4, 25))
	addUser('koko', 'v3', 'p', '37', datetime.date(2012, 10, 11))
	addUser('crow', 'katy', 'p', '38', datetime.date(2011, 11, 11))
	addUser('pants', 'patrick', 'p', '39', datetime.date(2015, 10, 25))
	addUser('jttran', 'simons', 'p', '40', datetime.date(2009, 11, 14))
	addUser('wu', 'cowtown', 'd', '41', datetime.date(2004, 1, 1))
	addUser('kon', 'wu', 'p', '42', datetime.date(1995, 4, 6))
	addUser('aguillon', 'slp', 'p', '43', datetime.date(1990, 3, 22))
	addUser('krieg', 'don', 'd', '44', datetime.date(1985, 10, 14))
	addUser('zoro', 'hawk', 'p', '45', datetime.date(1998, 11, 25))
	addUser('candy', 'bandana', 'p', '46', datetime.date(1996, 8, 14))
	addUser('sylvia', 'test', 'd', '47', datetime.date(1993, 5, 20))
	addUser('hendricks', 'lor', 'p', '48', datetime.date(1990, 7, 13))
	addUser('buggy', 'clown', 'd', '49', datetime.date(1992, 8, 26))
	addUser('batir', 'gram', 'p', '50', datetime.date(1998, 5, 30))
	addUser('katalia', 'grim', 'p', '51', datetime.date(1999, 2, 27))

	addRecord('2', '3', '4', 'Cancer', datetime.date(2005, 5, 10), datetime.date(2005, 5, 11), 'Safe', 'No issues found')
	addRecord('2', '3', '4', 'Cancer', datetime.date(2006, 3, 3), datetime.date(2006, 3, 3), 'Infected', 'Recommend immediate action')
	addRecord('2', '3', '4', 'AIDS', datetime.date(2006, 6, 15), datetime.date(2006, 6, 15), 'Infected', 'Patient was found with the AIDS virus')
	addRecord('2', '3', '4', 'Sore Throat', datetime.date(2010, 4, 1), datetime.date(2010, 4, 8), 'Safe', 'No issues found')
	addRecord('2', '3', '4', 'Broken Leg', datetime.date(2015, 5, 3), datetime.date(2015, 5, 3), 'Broken', 'Patient requires cane for the rest of his life')
	addRecord('5', '6', '7', 'Cancer', datetime.date(2014, 10, 10), datetime.date(2014, 10, 11), 'Safe', 'No issues found')
	addRecord('5', '6', '7', 'Flu', datetime.date(2015, 5, 5), datetime.date(2015, 5, 6), 'Infected', 'Viral infection detected')
	addRecord('5', '6', '7', 'Broken Leg', datetime.date(2014, 5, 18), datetime.date(2014, 5, 20), 'Broken', 'Patient will heal in 3 months')
	addRecord('8', '9', '10', 'Cancer', datetime.date(2012, 4, 20), datetime.date(2012, 4, 21), 'Infected', 'Recomend imeediate action')
	addRecord('8', '9', '10', 'AIDS', datetime.date(2013, 5, 30), datetime.date(2013, 5, 30), 'Infected', 'Recommend immediate action')
	addRecord('11', '12', '13', 'Cancer', datetime.date(2004, 6, 12), datetime.date(2004, 6, 13), 'Safe', 'No issues found')
	addRecord('11', '12', '13', 'Sore Throat', datetime.date(2005, 8, 13), datetime.date(2005, 8, 14), 'Infected', 'Not a serious infection')
	addRecord('11', '12', '13', 'Flu', datetime.date(2005, 8, 20), datetime.date(2005, 8, 20), 'Infected', 'Likely developed from sore throat')
	addRecord('11', '12', '13', 'Aids', datetime.date(2005, 9, 25), datetime.date(2005, 9, 25), 'Infected', 'AIDS virus detected')
	addRecord('14', '15', '16', 'Cancer', datetime.date(2013, 10, 10), datetime.date(2013, 10, 10), 'Safe', 'No issues found')
	addRecord('17', '18', '19', 'Cancer', datetime.date(2012, 12, 12), datetime.date(2012, 12, 12), 'Safe', 'No issues found')
	addRecord('20', '21', '22', 'Cancer', datetime.date(2015, 2, 2), datetime.date(2015, 2, 2), 'Infected', 'Recommend immediate action')
	addRecord('23', '24', '25', 'Flu', datetime.date(2011, 4, 16), datetime.date(2011, 4, 16), 'Safe', 'No issues found')
	addRecord('27', '44', '19', 'Cancer', datetime.date(2011, 8, 20), datetime.date(2011, 8, 20), 'Infected', 'Recommend immediate action')
	addRecord('28', '44', '19', 'Flu', datetime.date(2014, 10, 10), datetime.date(2014, 10, 11), 'Infected', 'Not a serious infection')
	addRecord('29', '44', '19', 'Cancer', datetime.date(2014, 12, 12), datetime.date( 2014, 12, 13), 'Infected', 'Recommend immediate action')

	limit = random.randint(0, 10)
	for i in range(1, 21):
		for j in range(0, limit):
			print(i)
			addImage(i)


def addPerson(first, last, address, email, phone):
	p = Persons(first_name = first, last_name = last, address = address, email = email, phone = phone)
	p.save()
	print(p)

def addUser(user, password, classType, person_id, registered):
	u = Users(user_name = user, password = password, classType = classType,  date_registered = registered)
	u.person_id = Persons.objects.get(person_id = person_id)
	u.save()
	print(u)

def addRecord(patient, doctor, radiologist, test_type, prescribe, test, diagnosis, description):
	r = Radiology_record(test_type = test_type, prescribing_date = prescribe, test_date = test, diagnosis = diagnosis, description = description)
	r.patient_id = Persons.objects.get(person_id = patient)
	r.doctor_id = Persons.objects.get(person_id = doctor) 
	r.radiologist_id = Persons.objects.get(person_id = radiologist)
	r.save()
	print(r)

def addImage(record):
	i = Pacs_images()
	i.record_id = Radiology_record.objects.get(record_id = record)
	i.save()
	print(i)

if __name__ == '__main__':
    print("Populating fields...")
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'radiology.settings')
    from RadiologySys.models import *
    from django.core.wsgi import get_wsgi_application
    application = get_wsgi_application()
    populate()